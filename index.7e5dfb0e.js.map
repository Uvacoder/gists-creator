{"mappings":"CAAA,WACE,MAAMA,EAAOC,SAASC,cAAc,SACpCF,EAAKG,UAAY,u6BAkDTH,EAAWE,cAAc,eACzBE,iBAAiB,UAAAC,IAEvBA,EAAAC,iB,MACEC,EAAQF,EAAAE,OACRC,EAAS,IAAAC,SAAAF,G,EACPG,OAAAC,YAAeH,EAAWI,WACVC,M,aAClBC,QAAA,QAAAC,EAAAC,WAAA,IAWOhB,EAAaE,cAAa,iBAErCE,iBAAA,cACFa,aAAAC,WAAA,Y","sources":["src/index.ts"],"sourcesContent":["function main() {\r\n  const root = document.querySelector(\".root\");\r\n  root.innerHTML = `\r\n  <h1 class=\"title\">G I S T S - M A K E R</h1>\r\n\r\n  <div class=\"token-container\">\r\n    <form class=\"token-form\">\r\n      <input class=\"input token-input\" name=\"token\" type=\"password\" placeholder=\"New token\" />\r\n      <button class=\"token-save button\">SAVE</button>\r\n    </form>\r\n    <button class=\"token-delete button\">DELETE</button>\r\n    <a href=\"http://docs.github.com/es/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\" target=\"_blank\">\r\n      <button class=\"token-getnew button\">GET NEW</button>\r\n    </a>\r\n  </div>\r\n\r\n  <form class=\"form\">\r\n      <input class=\"input description\" name=\"description\" placeholder=\"Description\">\r\n      <input class=\"input filename\" name=\"filename\" placeholder=\"Filename including extension\">\r\n      <textarea class=\"input code\" name=\"code\" placeholder=\"Your code\"></textarea>\r\n\r\n      <button class=\"button create\">CREATE SECRET GIST</button>\r\n  </form>\r\n  `;\r\n\r\n  const tokenForm = root.querySelector(\".token-form\");\r\n  tokenForm.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n\r\n    const target = e.target as any;\r\n    const data = new FormData(target);\r\n    const value = Object.fromEntries(data.entries());\r\n    const tokenValue = value.token;\r\n\r\n    localStorage.setItem(\"token\", tokenValue.toString());\r\n  });\r\n\r\n  const tokenDelete = root.querySelector(\".token-delete\");\r\n  tokenDelete.addEventListener(\"click\", () => {\r\n    localStorage.removeItem(\"token\");\r\n  });\r\n\r\n  const Form = root.querySelector(\".form\");\r\n  Form.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n\r\n    const target = e.target as any;\r\n    const data = new FormData(target);\r\n    const value = Object.fromEntries(data.entries());\r\n\r\n    const token = localStorage.getItem(\"token\");\r\n    const description = value.description;\r\n    const filename = value.filename;\r\n    const code = value.code;\r\n\r\n    fetch(\"https://api.github.com/gists\", {\r\n      method: \"post\",\r\n      headers: {\r\n        Authorization: \"token \" + token,\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      },\r\n      body: `{\r\n      \"description\": \"${description}\",  \r\n      \"files\":{\r\n        \"${filename}\":{\r\n            \"content\":\"${code}\"\r\n        }\r\n    }\r\n}\r\n`,\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => console.log(data));\r\n  });\r\n}\r\nmain();\r\n"],"names":["root","document","querySelector","innerHTML","addEventListener","e","preventDefault","target","data","FormData","Object","fromEntries","entries","token","setItem","tokenValue","toString","localStorage","removeItem"],"version":3,"file":"index.7e5dfb0e.js.map"}